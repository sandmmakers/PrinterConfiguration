[mcu cp_kcm]
serial: /dev/serial/by-path/<REPLACE_WITH_KCM_SERIAL_ID>
restart_method: command

[duplicate_pin_override]
pins: cp_kcm:PC4,cp_kcm:PC5,cp_kcm:PC10, cp_kcm:PC12,cp_kcm:PC11

[temperature_sensor cp_kcm_temp]
sensor_type: temperature_mcu
sensor_mcu: cp_kcm
min_temp: -100
max_temp: 900

[gcode_macro T0]
gcode:
    SWITCH_TO_EXTRUDER EXTRUDER=1

[gcode_macro T1]
gcode:
    SWITCH_TO_EXTRUDER EXTRUDER=2

[gcode_macro T2]
gcode:
    SWITCH_TO_EXTRUDER EXTRUDER=3

[gcode_macro T3]
gcode:
    SWITCH_TO_EXTRUDER EXTRUDER=4

[extruder_stepper ex1]
extruder:
step_pin:cp_kcm:PC11
dir_pin: !cp_kcm:PC10
enable_pin: !cp_kcm:PC12
microsteps: 16
rotation_distance: 7.72893

[extruder_stepper ex2]
extruder:
step_pin: cp_kcm:PA8
dir_pin: !cp_kcm:PC9
enable_pin: !cp_kcm:PC8
microsteps: 16
rotation_distance: 7.72893

[extruder_stepper ex3]
extruder:
step_pin: cp_kcm:PB15
dir_pin: !cp_kcm: PC6
enable_pin: !cp_kcm:PC7
microsteps: 16
rotation_distance: 7.72893

[extruder_stepper ex4]
extruder:
step_pin: cp_kcm:PB14
dir_pin: !cp_kcm:PB12
enable_pin: !cp_kcm:PB13
microsteps: 16
rotation_distance: 7.72893